<form class="repeat-form" [formGroup]="repeatForm">
  <b>REPEAT:</b>
  <input
    [formControlName]="repeatFormControlName"
    type="number"
    placeholder="Repeat n times..."
    min="0"
    max="100" />
</form>

<div class="info">
  @let l = generatorParam()?.length ?? 0;
  @let t = repeatValue();
  @let rawTemplate = isRawTemplate();
  <p><b>RAW TEMPLATE</b> : {{ rawTemplate }}</p>
  <p><b>TOTAL</b> : {{ l }} * {{ t }} = {{ l * t }}</p>
</div>

@if (rawTemplate) {
  <app-table-raw [repeat]="repeatValue()" [data]="data()" />
} @else {
  @for (i of repeatRange(); track $index; let first = $first) {
    NÂ°{{ i }}
    @if (!first) {
      @defer (on viewport) {
        <app-table [data]="data()"></app-table>
      } @placeholder {
        <div [style.height]="l * 60 + 'px'"></div>
      }
    } @else {
      <app-table [data]="data()"></app-table>
    }
  }
}
